<script id="tmpl-modalheader" type="text/html">
    <div class="modal-header">
        <h4 class="modal-title">{{title}}</h4>
        {{#if showClose}}
        <button type="button" class="close btn-close" data-bs-dismiss="modal" aria-label="{{closeText}}"></button>
        {{/if}}
    </div>
</script>

<script id="tmpl-modalbody" type="text/html">
    <div class="modal-body">
        {{{content}}}
    </div>
</script>

<script id="tmpl-modalfooter" type="text/html">
    <div class="modal-footer">
        {{#if showEdit}}
        <button type="button" class="btn btn-primary btn-edit" data-credentialid="{{credentialId}}"><span class="bi bi-pencil-square"></span> {{editText}}</button>
        {{/if}}
        {{#if showDelete}}
        <button type="button" class="btn btn-danger btn-delete" data-credentialid="{{credentialId}}"><span class="bi bi-trash"></span> {{deleteText}}</button>
        {{/if}}
        {{#if showAccept}}
        <button type="submit" class="btn btn-primary btn-accept"><span class="bi bi-check"></span> {{acceptText}}</button>
        {{/if}}
        {{#if showClose}}
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal"><span class="bi bi-x"></span> {{closeText}}</button>
        {{/if}}
    </div>
</script>

<script id="tmpl-urllink" type="text/html">
    <a class="display-link" href="{{Url}}" onclick="window.open(this.href); return false;">{{{UrlText}}}</a>
</script>

<script id="tmpl-urltext" type="text/html">
    <span class="full">{{truncate Url 50}}</span>
    <span class="truncated">{{truncate Url 26}}</span>
</script>

<script id="tmpl-copylink" type="text/html">
    <a class="copy-link" href="#">Copy <span class="bi bi-clipboard"></span></a>
    <input type="text" class="copy-content" value="{{Content}}" />
</script>

<script id="tmpl-detail" type="text/html">
    {{#if Url}}
    <div class="row row-detail">
        <div class="col-xs-12 col-sm-3 row-detail-header">Url</div>
        <div class="col-xs-3 col-sm-2">{{> copylink Content=Url }}</div>
        <div class="col-xs-9 col-sm-7">{{{UrlHtml}}}</div>
    </div>
    {{/if}}
    {{#if Username}}
    <div class="row row-detail">
        <div class="col-xs-12 col-sm-3 row-detail-header">Username</div>
        <div class="col-xs-3 col-sm-2">{{> copylink Content=Username }}</div>
        <div class="col-xs-9 col-sm-7">{{Username}}</div>
    </div>
    {{/if}}
    {{#if Password}}
    <div class="row row-detail">
        <div class="col-xs-12 col-sm-3 row-detail-header">Password <a href="#" class="fa fa-info-circle toggle-password-info"></a></div>
        <div class="col-xs-3 col-sm-2">{{> copylink Content=Password }}</div>
        <div class="col-xs-9 col-sm-7">{{Password}}</div>
    </div>
    <div class="row row-detail row-detail-password-info d-none">
        <div class="col-xs-12 col-sm-7 col-sm-offset-9">{{{PasswordCharacterTable}}}</div>
    </div>
    {{/if}}
    {{#if UserDefined1}}
    <div class="row row-detail">
        <div class="col-xs-12 col-sm-3 row-detail-header">{{UserDefined1Label}}</div>
        <div class="col-xs-3 col-sm-2">{{> copylink Content=UserDefined1 }}</div>
        <div class="col-xs-9 col-sm-7">{{UserDefined1}}</div>
    </div>
    {{/if}}
    {{#if UserDefined2}}
    <div class="row row-detail">
        <div class="col-xs-12 col-sm-3 row-detail-header">{{UserDefined2Label}}</div>
        <div class="col-xs-3 col-sm-2">{{> copylink Content=UserDefined2 }}</div>
        <div class="col-xs-9 col-sm-7">{{UserDefined2}}</div>
    </div>
    {{/if}}
    {{#if Notes}}
    <div class="row row-detail">
        <div class="col-xs-12 col-sm-5 row-detail-header">Notes</div>
        <div class="col-xs-12 col-sm-7">{{breaklines Notes}}</div>
    </div>
    {{/if}}
</script>

<script id="tmpl-credentialform" type="text/html">
    <partial name="_CredentialForm" model="new Credential()" />
</script>

<script id="tmpl-deleteconfirmationdialog" type="text/html">
    <p>Are you sure you want to delete this credential?</p>
</script>

<script id="tmpl-optionsdialog" type="text/html">
    <p>Enter and confirm a new password:</p>
    <div class="form-horizontal">
        <div class="form-group">
            <label for="NewPassword" class="col-sm-8 control-label">New Password</label>
            <div class="col-sm-16">
                <input type="password" id="NewPassword" name="NewPassword" class="form-control" value="" />
            </div>
        </div>
        <div class="form-group">
            <label for="NewPasswordConfirm" class="col-sm-8 control-label">Confirm New Password</label>
            <div class="col-sm-16">
                <input type="password" id="NewPasswordConfirm" name="NewPasswordConfirm" class="form-control" value="" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-8 col-sm-16">
                <button class="btn btn-primary" id="change-password-button">Change Password</button>
            </div>
        </div>
        <hr />
        <div class="form-group">
            <label for="import-data" class="col-sm-8 control-label">Import Data</label>
            <div class="col-sm-16">
                <textarea class="form-control" id="import-data" placeholder="Paste exported JSON data here"></textarea>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-8 col-sm-16">
                <button class="btn btn-primary" id="import-button">Import Data</button>
            </div>
        </div>
        <hr />
        <div class="form-group">
            <label for="export-button" class="col-sm-8 control-label">Export Data</label>
            <div class="col-sm-16">
                <button class="btn btn-primary" id="export-button">Export Data</button>
            </div>
        </div>
    </div>
</script>

<script id="tmpl-exporteddatawindow" type="text/html">
    <html>
    <head>
        <title>Exported Data</title>
    </head>
    <body style="margin: 0; padding: 0;">
        <textarea style="border: none; width: 100%; height: 600px;">{{json}}</textarea>
    </body>
</html>
</script>

<script id="tmpl-validationmessage" type="text/html">
    <div class="validation-message"><p>{{{errors}}}</p></div>
</script>

<script id="tmpl-credentialtable" type="text/html">
    {{#each rows}}
    {{> credentialtablerow}}
    {{/each}}
</script>

<script id="tmpl-credentialtablerow" type="text/html">
    <div id="{{credentialid}}" class="credential mb-1">
        <div class="btn btn-credential-show-detail" data-id="{{credentialid}}">
            <span class="d-none d-md-inline">{{description}}</span><span class="d-md-none">{{truncate description 31}}</span>
            <span>{{username}}</span>
            {{#if weak}}
            <span>Weak Password</span>
            {{/if}}
        </div>
        {{#if url}}
        <a class="btn btn-primary btn-credential-open ml-1" href="{{url}}" target="_blank">
            <span class="bi bi-box-arrow-up-right"></span> Web
        </a>
        {{else}}
        <a class="btn btn-primary btn-credential-open ms-1" disabled="disabled">
            <span class="bi bi-box-arrow-up-right"></span> Web
        </a>
        {{/if}}
        <a class="btn btn-primary btn-credential-copy btn-credential-copy-username ms-1">
            <span class="bi bi-clipboard"></span> User
        </a>
        <input type="text" class="copy-content d-none" name="copy-content" value="{{username}}" />
        <a class="btn btn-primary btn-credential-copy btn-credential-copy-password ms-1">
            <span class="bi bi-clipboard"></span> Pwd
        </a>
        <input type="text" class="copy-content d-none" name="copy-content" value="{{password}}" />
    </div>
</script>
