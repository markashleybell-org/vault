@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

@section main {

    @{Html.RenderPartial("_LoginForm", new LoginViewModel());}

    @{Html.RenderPartial("_StaticHtml");}

    @{Html.RenderPartial("_ClientTemplates");}

}

@section foot {

    <script>
        var _VAULT_GLOBALS = {
            baseUrl: '@(Url.Action("Index", "Main", null))',
            absoluteUrl: '@(Request.Url.AbsoluteUri)',
            sessionTimeoutInSeconds: @(System.Configuration.ConfigurationManager.AppSettings["SessionTimeoutInSeconds"]),
            @if (!string.IsNullOrWhiteSpace(ProtectWithSecurityKeyAttribute.KEY)) {
            <text>securityKey: {
                parameterName: '@(ProtectWithSecurityKeyAttribute.PARAMETER_NAME)',
                key: '@(Request[ProtectWithSecurityKeyAttribute.PARAMETER_NAME])'
            },</text>
            }
            devMode: @(System.Configuration.ConfigurationManager.AppSettings["DevMode"])
        };
    </script>

    @Scripts.Render("~/js/main")

}
